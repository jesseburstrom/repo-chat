/* src/App.css */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: sans-serif;
  box-sizing: border-box; /* Include padding and border in element's total width and height */
}
*, *:before, *:after {
  box-sizing: inherit;
}

/* --- System Prompt Section --- */
.system-prompt-section {
  padding: 15px 0; /* Match other form paddings if inside similar container, or adjust */
  /* If not already in a bordered/backgrounded container like RepomixForm, add some: */
  background-color: #f8f9fa; /* Similar to RepomixForm background */
  border-bottom: 1px solid #e0e0e0; /* Separator */
  margin-bottom: 1rem; /* Space below this section */
  padding-left: 25px; /* Align with RepomixForm content */
  padding-right: 25px;
}

.toggle-system-prompt-button {
  background-color: #6c757d; /* A neutral grey */
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  cursor: pointer;
  font-size: 0.9em;
  margin-bottom: 10px; /* Space before the input area appears */
  transition: background-color 0.2s ease;
}
.toggle-system-prompt-button:hover {
  background-color: #5a6268;
}

.system-prompt-input-area {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px; /* If toggle button doesn't have margin-bottom */
}

.system-prompt-textarea {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid #dadce0;
  border-radius: 4px;
  font-size: 0.95rem;
  font-family: inherit;
  resize: vertical; /* Allow vertical resizing */
  min-height: 80px;
}
.system-prompt-textarea:disabled {
  background-color: #eee;
}

.save-system-prompt-button {
  background-color: #28a745; /* Green for save */
  color: white;
  border: none;
  border-radius: 4px;
  padding: 10px 15px;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.95em;
  transition: background-color 0.2s ease;
  align-self: flex-start;
}
.save-system-prompt-button:hover:not(:disabled) {
  background-color: #218838;
}
.save-system-prompt-button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

.system-prompt-status {
  margin-top: 5px;
  padding: 8px;
  border-radius: 4px;
  font-size: 0.9em;
}
.system-prompt-status.success {
  background-color: #e6f4ea;
  color: #137333;
  border: 1px solid #a8d1b4;
}
.system-prompt-status.error {
  background-color: #fce8e6;
  color: #c5221f;
  border: 1px solid #f4aca9;
}

.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh; /* Full viewport height */
  width: 75%;   /* Occupy 75% of the viewport width */
  margin: 0 auto; /* Center the container horizontally */
  background-color: #ffffff; /* White background for the chat area */
  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); /* Subtle shadow */
  border-left: 1px solid #e0e0e0; /* Optional border */
  border-right: 1px solid #e0e0e0; /* Optional border */
  /* Remove overflow: hidden; if you had it */
}

/* Apply to the main app container */
.app-container.full-screen-file-view {
  width: 100%;        /* Use full browser width */
  height: 100vh;       /* Use full browser height */
  max-width: none;     /* Remove any max-width constraint */
  margin: 0;           /* Remove centering margin */
  border: none;        /* Remove side borders */
  box-shadow: none;    /* Remove shadow */
  overflow: hidden;    /* Prevent container scroll */
}

/* Hide chat/input column and footer */
/* .app-container.full-screen-file-view .center-column,
.app-container.full-screen-file-view .app-footer {
  display: none;
} */

/* Adjust the wrapper inside the full-screen container */
.app-container.full-screen-file-view .main-content-wrapper {
  height: calc(100vh - 60px); /* Adjust based on your header height */
  /* Ensure it stretches */
}

/* Adjust FileTree panel in full screen */
.app-container.full-screen-file-view .file-tree-panel {
  width: 20%; /* Example: Give tree more relative space */
  max-width: 400px; /* Optional: Add a max width */
  height: 100%; /* Ensure it fills the wrapper height */
}

.app-container.full-screen-file-view .center-column {
  /* Keep it visible, but define its size */
  width: 40%; /* Example: Give chat 30% */
  flex-shrink: 0; /* Prevent shrinking */
  height: 100%; /* Fill vertical space */
  display: flex; /* Ensure its internal flex layout still works */
  flex-direction: column;
  overflow: hidden; /* Keep internal overflow hidden */
  border-left: 1px solid #e0e0e0; /* Add separators */
  border-right: 1px solid #e0e0e0;
}

/* Adjust FileContent panel in full screen */
.app-container.full-screen-file-view .file-content-panel {
  width: auto;       /* Remove fixed width */
  flex-grow: 1;      /* Allow it to take remaining space */
  border-left: 1px solid #e0e0e0; /* Keep border */
  height: 100%;      /* Ensure it fills the wrapper height */
}

/* Style the toggle button */
.fullscreen-toggle-button {
  position: absolute;
  top: 15px; /* Adjust as needed */
  right: 25px; /* Adjust as needed */
  padding: 5px 10px;
  font-size: 0.85em;
  background-color: #f0f0f0;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  z-index: 10; /* Ensure it's above other header content if needed */
}
.fullscreen-toggle-button:hover {
  background-color: #e0e0e0;
}
.app-header {
   padding: 15px 25px; /* Slightly more padding */
   border-bottom: 1px solid #e0e0e0;
   background-color: #fff;
   text-align: center;
   flex-shrink: 0; /* Prevent header from shrinking */
   font-size: 1.4em;
   font-weight: 500;
   color: #333;
}

/* --- NEW: Wrapper for the main content area below header/footer --- */
.main-content-wrapper {
  display: flex;
  flex-direction: row; /* Arrange panels side-by-side */
  flex-grow: 1; /* Take remaining vertical space */
  overflow: hidden; /* Prevent this wrapper from scrolling */
  height: calc(100vh - 60px - 35px); /* Adjust based on actual header/footer height */
}

/* --- NEW: Center Column (Chat + Input) --- */
.center-column {
  display: flex;
  flex-direction: column; /* Stack scroll area and input vertically */
  flex-grow: 1; /* Allow center column to take available horizontal space */
  overflow: hidden; /* Prevent this column itself from scrolling */
  /* Optional: Add borders if desired between panels */
  /* border-left: 1px solid #e0e0e0; */
  /* border-right: 1px solid #e0e0e0; */
}

/* --- Scrollable Area --- */
.scrollable-content-area {
  flex-grow: 1; /* Allow this area to take up remaining vertical space */
  overflow-y: auto; /* Enable vertical scrolling ONLY when needed */
  padding: 1rem 1.5rem; /* Add padding around the content */
  display: flex; /* Use flexbox for children stacking */
  flex-direction: column; /* Stack children vertically */
  gap: 1rem; /* Add space between direct children (Form, Selector, Chat) */
}
/* Add some padding at the bottom of the scrollable area
   so content doesn't sit directly under the input box shadow/border */
.scrollable-content-area::after {
    content: '';
    display: block;
    height: 1rem; /* Adjust space as needed */
}


 /* Error and Loading messages within scrollable area */
.loading-indicator,
.error-message {
  padding: 0.75rem 1rem;
  margin-top: 0.5rem; /* Add some space above */
  margin-bottom: 0.5rem; /* Add some space below */
  border-radius: 4px;
  text-align: center;
  flex-shrink: 0; /* Prevent shrinking */
}
.loading-indicator {
  color: #495057;
}

.error-message {
  color: #721c24;
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
}

/* Attachment Status styling */
.attachment-status {
  padding: 8px 12px;
  margin-top: 0.5rem;
  border-radius: 4px;
  font-size: 0.9em;
  text-align: center; /* Center align text */
  flex-shrink: 0; /* Prevent shrinking */
}
.attachment-status.success {
  background-color: #d1e7dd; /* Bootstrap success background */
  color: #0f5132; /* Bootstrap success text */
  border: 1px solid #badbcc; /* Bootstrap success border */
}
.attachment-status.warning { /* For non-standard format or failure */
  background-color: #fff3cd; /* Bootstrap warning background */
  color: #664d03; /* Bootstrap warning text */
  border: 1px solid #ffecb5; /* Bootstrap warning border */
}

/* --- Input Area (Fixed Below Scroll) --- */
.input-area-container {
  flex-shrink: 0; /* Prevent input area from shrinking */
  background-color: #ffffff; /* White background usually */
  padding: 0.75rem 1.5rem; /* Adjust padding */
  border-top: 1px solid #dee2e6; /* Separator line */
  box-shadow: 0 -2px 5px rgba(0,0,0,0.05); /* Optional subtle shadow */
  z-index: 5; /* Keep above scrolled content if needed */
}

.app-footer {
  padding: 8px 25px; /* Match chat area padding */
  border-top: 1px solid #e0e0e0;
  background-color: #f8f9fa; /* Slightly different footer background */
  font-size: 0.8em;
  color: #666;
  text-align: right;
  flex-shrink: 0; /* Prevent footer from shrinking */
}

/* Add font import if needed at the top of index.css or App.css */
/* @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap'); */